# Ceph

### Описание
Позволяет организовать отказоустойчивое хранилище

Службы:
OSD - демон отвечающий за хранение, обрабатывающий запросы клиентов и обенивающийся данными с другими OSD
Один демон OSD - один диск, требует 4GB озу. Можно обьеденять диски в рейды.

MON - клиенты узнают на какие OSD ходить, хранит информацию о состояниии кластера
MDS - сервер с метаданным если используестся cephFS файловая система
MGR - организует мониторинг, есть дашбор и интерфейсы zabbix, prometheus


Понятия:
Replication Factor - количество реплик
Placement Group - связующее звено между физическим и логическим устройством
MinSize - минимальный размер при репликации для осуществления транзакции
Crush - алгоритм-хэш-функция которая позволяет определить куда писать данные
Диски разбиваются на равные чанки, составляется их карта, данные пишуться на примари раздел исходя из составленной карты.






Клиенты:

Cephfs
RBD - образ виртуальной машины
Librados - библиотека для реализации доступа



#### Настройки

osd scrub - важная опция отвечающая за проверку данных на нодах

Сеть в 10Gb, отдельная подсеть для обьединения OSD.

