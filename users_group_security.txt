Файлы:
Информация о пользователях:
/etc/passwd
Информация о группах:
/etc/group
Файл с шифрованными паролями:
/etc/shadow


____________________________
Users:

Вывести список всех пользователей:
sed 's/:.*//' /etc/passwd


Добавить пользователя, создать ему каталог, добавить в группы, назначить шел;
useradd -m -G users,wheel,audio -s /bin/bash larry

Посмотреть ключи useradd --help
-b - базовый каталог
-m — создаёт домашний каталог пользователя
-g — определяет имя или номер основной группы пользователя
-G — определяет список групп
-s — определяет командную оболочку

Интерактивное добавление:
adduser username

Изменение учетной записи пользователя:
usermod
-G переопределить группы

Задать дополнительное описание пользователя (храниться /etc/passwd)
chfn [-f full_name] [-r room_no] [-w work_ph] [-h home_ph] [-o other] [user]

Удалить пользователя:
userdel -r [имя пользователя]
-r удалить домашнюю папку
_________________________________________________
Password:

Задать правила в pam для учетных записей (длинна, сколько жить паролям и тп)
/etc/pam.d/common-password

Задать пароль:
passwd username

-S информация о пароле
-l заблокировать учетную запись
-г разблокировать
-d удалить пароль
-x максимальное количество перед сменой прл

Информация о пароле:
chage -l username

Вручную изменить дату истечения действия пароля (-E) на 01/31/2008,
минимальный срок действия пароля (-m) на 5 дней,
максимальный срок действия (-M) на 90 дней,
период бездействия (-I) на 5 дней после истечения срока пароля и период предупреждений (-W) на 14 дней до истечения срока пароля.

sudo chage -E 01/31/2011 -m 5 -M 90 -I 30 -W 14 username


_________________________________________________
Groups:


Cоздать группу:
groupadd group 

Добавить пользователя:
gpaswwd -a group user 

Удалить группу:
groupdel group

Убрать пользователя из группы:
gpasswd -d [имя пользователя] [имя группы]


Пользователю необходимо перезайти в систему, чтобы изменения вступили в силу!

Группы:

Пользовательские:
wheel - админская группа, применяется для доступа к sudo, su
adm - группа для администрироавания (типа wheel)
log - доступ к логам в /var/log
systemd-journal - для доступа к /var/log/journal

Системные:
audio	доступ к звуковому оборудованию для всех сеансов. 
disk	доступ к блочным устройствам, не затронутым другими группами, такими как optical, floppy, и storage.
input	доступ к устройствам ввода (mouse). Введено в systemd 215.
kvm	доступ к виртуальным машинам с использованием KVM.
scanner	/var/lock/sane	Доступ к оборудованию сканера.
storage Доступ к съемным дискам, USB, флеш-накопители. Позволяет пользователю монтировать запоминающие устройства.
video  доступ к видео и аппаратному ускорению 2d/3d, framebuffer


_________________________________________________
