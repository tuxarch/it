Внутреннее устройство linux
Брайн Уорд 2016
=================================



Вычислительная система состоит из 3 уровней
	пользовательский
	уровень ОС
	Аппаратный уровень

Ядро - основная часть операционной системы. Которая отвечает за работу
процессов, памяти, драйверов устройств, системных вызовов.

Процессы - запуск, остановка, возобновление, прекращение работы.

Многозадачность
Память - выделение памяти процессам, котроль доступа. Концепция - виртуальной
(бесконечной) памяти
Драйвер - программа обеспецивающая доступ к устройтву

fork() - создание копии процесса
exec() - замещение процесса

За исключением init все процессы вызываются fork()

Пользователь - сущность в ОС от лица которой осуществляется работа приложений

unix - операционная система, представляющая набор идей ставших стандартом для
профессиональных систем. В стандарт POSIX был создан для обеспецения
совместимости unix систем между собой.

udev - подсистема работующая с подключенными устройствами

Устройства
Все устройства linux представленны в виде псевдофайлов

/dev/null - файл дырка

Блочное устройство, Символьное устройство
ls -l
Данные получают порчиями или потоком

/sys/devices - информация об устройствах

Поиск устройств
/sys
udevadm

Устройство появляются в разделе /dev
sd - sata scsi disk
sr - cd rom
hd - pata disk
tty - консоли
echo 'deee' > /dev/tty2 - отправить в консоль

getty - процесс входа в систему

chvt - переключиться в указанный tty

/dev/ttyS - com-порты
/dev/lp0 - паралельные порты

Последовательный и паралельный порт 
Данные передаются последовательно или паралельно

/dev/snd /dev/snp /dev/audio - аудио

файлы создаются с помощью udev

mknod /dev/sda1 b 8 2 - 

devtmpfs - создает файл устройства и передает udev, которая в дальнейшем
произоводит идентификацию устройства
uevent - ядро отправляет уведомление udevd
которое содержит информацию об устройстве
 
устройства подключаются к шине
init V - последовательный запуск программ
systemd - паралельный запуск

уровни запуска init
/etc/inittab

systemd - отложенный запуск, монтирование, отслеживать сетевые сокеты,

зависимости при запуске

подсистема PAM - подключаемые модули аутентификации
Поддержка двухфакторной аутентификации и подключение мат носителей

lsof - открытые файлы и процессы используемые в данный момент

uptime 1 5 15
cidr способ написания маски подсети

inetd - сервер для доступа к сети
xinetd
rpc - удаленный вызов процедур прикладной уровень
read - cоздание переменной

python -m httpserver - быстро открыть доступ к папке
d-bus - шина событий для всех приложений рабочего стола
